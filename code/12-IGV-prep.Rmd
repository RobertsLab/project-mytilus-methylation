---
title: "12-IGV-prep"
output: html_document
date: "2024-12-21"
---

```{bash}
/home/shared/samtools-1.12/samtools faidx \
../data/GCF_036588685.1_PNRI_Mtr1.1.1.hap1_genomic.fa
```

for f in *merged_CpG_evidence.cov
do
  STEM=$(basename "${f}" .CpG_report.merged_CpG_evidence.cov)
  cat "${f}" | awk -F $'\t' 'BEGIN {OFS = FS} {if ($5+$6 >= 10) {print $1, $2, $3, $4}}' \
  > "${STEM}"_10x.bedgraph
done



```{bash}
for f in *merged_CpG_evidence.cov
do
  STEM=$(basename "${f}" .CpG_report.merged_CpG_evidence.cov)
  cat "${f}" | awk -F $'\t' 'BEGIN {OFS = FS} {if ($5+$6 >= 5) {print $1, $2, $3, $4}}' \
  > "${STEM}"_5x.bedgraph
done
```


```{bash}
# Input and output file names
INPUT_FILE="../output/11-methylkit-klone/myDiff75p.tab"
OUTPUT_FILE="../output/12-IGV/myDiff75p.bedgraph"

# Write the BEDGRAPH header
echo "track type=bedGraph name=\"MethDiff\" description=\"Methylation difference data\"" > "$OUTPUT_FILE"

# Process the input file to convert it to BEDGRAPH format
awk 'NR > 1 {print $2 "\t" $3-1 "\t" $4 "\t" $8}' "$INPUT_FILE" >> "$OUTPUT_FILE"

echo "Conversion complete. Output saved to $OUTPUT_FILE"
```



```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Session genome="https://gannet.fish.washington.edu/seashell/bu-github/project-mytilus-methylation/data/GCF_036588685.1_PNRI_Mtr1.1.1.hap1_genomic.fa" locus="NC_086386.1:32575935-32644087" version="8">
    <Resources>
        <Resource path="/Users/sr320/Desktop/my75.bedgraph" type="bedgraph"/>
        <Resource path="https://gannet.fish.washington.edu/seashell/bu-github/project-mytilus-methylation/data/ncbi_dataset/data/GCF_036588685.1/genomic.gff" type="gff"/>
    </Resources>
    <Panel height="66" name="DataPanel" width="1133">
        <Track attributeKey="my75.bedgraph" autoScale="false" clazz="org.broad.igv.track.DataSourceTrack" fontSize="10" id="/Users/sr320/Desktop/my75.bedgraph" name="my75.bedgraph" renderer="BAR_CHART" visible="true" windowFunction="mean">
            <DataRange baseline="0.0" drawBaseline="true" flipAxis="false" maximum="86.08737" minimum="-80.09324" type="LINEAR"/>
        </Track>
    </Panel>
    <Panel height="985" name="FeaturePanel" width="1133">
        <Track attributeKey="Reference sequence" clazz="org.broad.igv.track.SequenceTrack" fontSize="10" id="Reference sequence" name="Reference sequence" sequenceTranslationStrandValue="+" shouldShowTranslation="false" visible="true"/>
        <Track attributeKey="genomic.gff" clazz="org.broad.igv.track.FeatureTrack" colorScale="ContinuousColorScale;0.0;7545.0;255,255,255;0,0,178" displayMode="EXPANDED" fontSize="10" groupByStrand="false" id="https://gannet.fish.washington.edu/seashell/bu-github/project-mytilus-methylation/data/ncbi_dataset/data/GCF_036588685.1/genomic.gff" name="genomic.gff" visible="true"/>
    </Panel>
    <PanelLayout dividerFractions="0.11683848797250859"/>
    <HiddenAttributes>
        <Attribute name="DATA FILE"/>
        <Attribute name="DATA TYPE"/>
        <Attribute name="NAME"/>
    </HiddenAttributes>
</Session>
```

